<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="447px" preserveAspectRatio="none" style="width:833px;height:447px;background:#FFFFFF;" version="1.1" viewBox="0 0 833 447" width="833px" zoomAndPan="magnify"><defs/><g><rect fill="#F0E68C" height="435.0547" style="stroke:#181818;stroke-width:0.5;" width="138.333" x="11" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50.813" x="52.4971" y="18.0669">Laptop</text><rect fill="#90EE90" height="435.0547" style="stroke:#181818;stroke-width:0.5;" width="353.0723" x="161.333" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86.6265" x="250.6777" y="18.0669">Onboard PC</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="174.3828" x="250.6777" y="33.1997">(VIM 4 + NMPC Control)</text><rect fill="#F0F8FF" height="435.0547" style="stroke:#181818;stroke-width:0.5;" width="301.2119" x="526.4053" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121.2847" x="614.106" y="18.0669">Gazebo (Laptop)</text><rect fill="#ADD8E6" height="414.9219" style="stroke:#181818;stroke-width:0.5;" width="188.6807" x="526.4053" y="26.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33.0332" x="600.5791" y="38.1997">MCU</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85.5918" x="577.9497" y="53.3325">(STM32 H7)</text><rect fill="#D3D3D3" height="414.9219" style="stroke:#181818;stroke-width:0.5;" width="100.5313" x="727.0859" y="26.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36.6196" x="754.5159" y="38.1997">Body</text><g><title>RViz</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="33.7715" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="37.2715" x2="37.2715" y1="91.6953" y2="403.7578"/></g><g><title>Terminal</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="103.938" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="107.438" x2="107.438" y1="91.6953" y2="403.7578"/></g><g><title>Planning</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="198.9863" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="202.4863" x2="202.4863" y1="91.6953" y2="403.7578"/></g><g><title>Control</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="278.5967" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="282.0967" x2="282.0967" y1="91.6953" y2="403.7578"/></g><g><title>Estimator</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="466.1323" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="469.6323" x2="469.6323" y1="91.6953" y2="403.7578"/></g><g><title>Spinal.Control_Spawner</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="617.2456" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="620.7456" x2="620.7456" y1="91.6953" y2="403.7578"/></g><g><title>ESC.Servo</title><rect fill="#000000" fill-opacity="0.00000" height="312.0625" width="8" x="773.8516" y="91.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="777.3516" x2="777.3516" y1="91.6953" y2="403.7578"/></g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.543" x="15" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.543" x="22" y="80.3936">RViz</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.79" x="69.543" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.79" x="76.543" y="80.3936">Terminal</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3066" x="165.333" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3066" x="172.333" y="80.3936">Planning</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.9141" x="249.6396" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.9141" x="256.6396" y="80.3936">Control</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.5459" x="428.8594" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.5459" x="435.8594" y="80.3936">Estimator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180.6807" x="530.4053" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.6807" x="537.4053" y="80.3936">Spinal/Control_Spawner</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.5313" x="731.0859" y="60.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5313" x="738.0859" y="80.3936">ESC&amp;Servo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.543" x="15" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.543" x="22" y="423.7529">RViz</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.79" x="69.543" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.79" x="76.543" y="423.7529">Terminal</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3066" x="165.333" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3066" x="172.333" y="423.7529">Planning</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.9141" x="249.6396" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.9141" x="256.6396" y="423.7529">Control</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.5459" x="428.8594" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.5459" x="435.8594" y="423.7529">Estimator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180.6807" x="530.4053" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.6807" x="537.4053" y="423.7529">Spinal/Control_Spawner</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.5313" x="731.0859" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5313" x="738.0859" y="423.7529">ESC&amp;Servo</text><line style="stroke:#181818;stroke-width:1;" x1="469.6323" x2="511.6323" y1="120.8281" y2="120.8281"/><line style="stroke:#181818;stroke-width:1;" x1="511.6323" x2="511.6323" y1="120.8281" y2="133.8281"/><line style="stroke:#181818;stroke-width:1;" x1="469.6323" x2="511.6323" y1="133.8281" y2="133.8281"/><line style="stroke:#181818;stroke-width:1;" x1="470.6323" x2="480.6323" y1="133.8281" y2="129.8281"/><line style="stroke:#181818;stroke-width:1;" x1="470.6323" x2="480.6323" y1="133.8281" y2="137.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="476.6323" y="115.7622">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.4121" x="489.6777" y="115.7622">200Hz</text><path d="M266.0967,145.8281 L342.7207,145.8281 L342.7207,152.9609 L332.7207,162.9609 L266.0967,162.9609 L266.0967,145.8281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="56.2656" style="stroke:#000000;stroke-width:1.5;" width="219.5356" x="266.0967" y="145.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="281.0967" y="158.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="48.6245" x="357.7207" y="158.0386">[100Hz]</text><line style="stroke:#181818;stroke-width:1;" x1="283.0967" x2="293.0967" y1="194.0938" y2="190.0938"/><line style="stroke:#181818;stroke-width:1;" x1="283.0967" x2="293.0967" y1="194.0938" y2="198.0938"/><line style="stroke:#181818;stroke-width:1;" x1="282.0967" x2="468.6323" y1="194.0938" y2="194.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="299.0967" y="189.0278">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.4902" x="312.1421" y="189.0278">estimator_-&gt;getState()</text><path d="M186.4863,220.0938 L263.1104,220.0938 L263.1104,227.2266 L253.1104,237.2266 L186.4863,237.2266 L186.4863,220.0938" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="56.2656" style="stroke:#000000;stroke-width:1.5;" width="148.5947" x="186.4863" y="220.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="201.4863" y="233.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="40.9707" x="278.1104" y="232.3042">[50Hz]</text><line style="stroke:#181818;stroke-width:1;" x1="280.0967" x2="270.0967" y1="268.3594" y2="264.3594"/><line style="stroke:#181818;stroke-width:1;" x1="280.0967" x2="270.0967" y1="268.3594" y2="272.3594"/><line style="stroke:#181818;stroke-width:1;" x1="202.4863" x2="281.0967" y1="268.3594" y2="268.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="209.4863" y="263.2935">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.8638" x="222.5317" y="263.2935">Traj</text><path d="M266.0967,294.3594 L342.7207,294.3594 L342.7207,301.4922 L332.7207,311.4922 L266.0967,311.4922 L266.0967,294.3594" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="56.2656" style="stroke:#000000;stroke-width:1.5;" width="370.6489" x="266.0967" y="294.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="281.0967" y="307.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="48.6245" x="357.7207" y="306.5698">[100Hz]</text><polygon fill="#181818" points="608.7456,338.625,618.7456,342.625,608.7456,346.625,612.7456,342.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="282.0967" x2="614.7456" y1="342.625" y2="342.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="289.0967" y="337.5591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.4976" x="302.1421" y="337.5591">Thrust and Servo Angles</text><polygon fill="#181818" points="765.3516,381.7578,775.3516,385.7578,765.3516,389.7578,769.3516,385.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="620.7456" x2="771.3516" y1="385.7578" y2="385.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="627.7456" y="380.6919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9482" x="640.791" y="380.6919">DShot &amp; Angle</text><!--SRC=[RLBHRjD047o_hrWIgKc4Gae18UKXKckg5f6qKHtwX5IjxSK-iE_CUPtIV3rxTkpMW5-yzixCpkpT96Ckg-LYKUPek2xoDx4j5XNzgid4D4yqfWuBfIQmffHC8iLyjOA2q5IWZI47GYXgesDaRGtiDS8UdSOefqfDvXtMrlnVxDrj26nB7LSovBjrOAXYIY2oluN_gdIO5WXCzW3iQb8AQxQcBY9oIWa8rbWA7yPVClofLOcETQnB2GDtz_em-B4ZLsY3kP8WVa0hCBeraKMNm3RuPgRtdpVm7bx3pMORG60DEvlFHZ1UwpJZAqTa1fAZhUpDQ9EE02kumVsmUnHecW7dm-PbnRf0jgvfozVGrnKUAB8mRGFEO7oUwvYYt2y1v6cy-m8smLTn7kusxyxW-cFlzi93VNymDIpz2XP7PmzXYOzoYes5jjLGUYVTf0kRF46_1dpwL_Wo34v2SdlRnWc3eL1VID3c3ibx2MUdfzS7fN8hH_YsgJsfWyZAba3TcXxcgvGuP6IQpXezJpkIFtHSEODdxixXZnV8l-S8Hh37t8BEN2sJKV1D43WtgR_5lK0Bz1I9juHFOMOPJbhO7m00]--></g></svg>